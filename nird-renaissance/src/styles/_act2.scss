@use 'sass:color';
@use 'variables' as *;

// ===================================
// ACT 2: UTOPIA - FOND ANIMÉ & ANIMATIONS
// ===================================

.act--utopia {
    position: relative;
    overflow: hidden;

    // Fond animé avec gradient dynamique
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 200%;
        height: 200%;
        background: linear-gradient(135deg,
                rgba(76, 175, 80, 0.08) 0%,
                rgba(33, 150, 243, 0.08) 25%,
                rgba(255, 152, 0, 0.08) 50%,
                rgba(156, 39, 176, 0.08) 75%,
                rgba(76, 175, 80, 0.08) 100%);
        background-size: 200% 200%;
        animation: gradient-shift 20s ease infinite;
        z-index: 0;
    }

    // Particules animées en arrière-plan
    &::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background-image:
            radial-gradient(circle at 15% 25%, rgba(76, 175, 80, 0.15) 0%, transparent 25%),
            radial-gradient(circle at 85% 75%, rgba(33, 150, 243, 0.12) 0%, transparent 25%),
            radial-gradient(circle at 50% 50%, rgba(255, 152, 0, 0.1) 0%, transparent 30%),
            radial-gradient(circle at 30% 80%, rgba(156, 39, 176, 0.08) 0%, transparent 20%),
            radial-gradient(circle at 70% 20%, rgba(76, 175, 80, 0.1) 0%, transparent 22%);
        animation: particles-float 25s ease-in-out infinite;
        z-index: 0;
    }

    .content-wrapper {
        position: relative;
        z-index: 1;
    }
}

@keyframes gradient-shift {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

@keyframes particles-float {

    0%,
    100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.4;
    }

    25% {
        transform: translate(30px, -40px) rotate(90deg) scale(1.15);
        opacity: 0.6;
    }

    50% {
        transform: translate(-20px, -20px) rotate(180deg) scale(0.85);
        opacity: 0.5;
    }

    75% {
        transform: translate(-40px, 30px) rotate(270deg) scale(1.1);
        opacity: 0.55;
    }
}

// ===================================
// KINETIC WORDS - ANIMATIONS D'ENTRÉE
// ===================================

.kinetic-words {
    padding: $spacing-2xl 0;
    position: relative;
    z-index: 2;
}

.kinetic-word {
    padding: $spacing-xl 0;
    opacity: 0;
    will-change: transform, opacity;
    perspective: 1000px;

    h2 {
        font-size: $font-size-5xl;
        font-weight: $font-weight-bold;
        color: $utopia-primary;
        text-align: center;
        text-shadow: 0 4px 30px rgba(76, 175, 80, 0.4);
        letter-spacing: 0.08em;
        text-transform: uppercase;
        position: relative;

        // Effet de brillance sur le texte
        &::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.4) 50%,
                    transparent 100%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: text-shine 3s ease-in-out infinite;
        }

        @media (max-width: $breakpoint-md) {
            font-size: $font-size-3xl;
        }
    }
}

@keyframes text-shine {

    0%,
    100% {
        background-position: -200% 0;
    }

    50% {
        background-position: 200% 0;
    }
}

// ===================================
// MISSION STATEMENT - ANIMATION
// ===================================

.mission {
    text-align: center;
    padding: $spacing-2xl 0;
    font-size: $font-size-lg;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 2;

    // Effet de lueur derrière le texte
    &::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80%;
        height: 80%;
        background: radial-gradient(circle,
                rgba(76, 175, 80, 0.1) 0%,
                transparent 70%);
        filter: blur(40px);
        z-index: -1;
    }

    p {
        line-height: 2;
    }

    span {
        display: block;
        margin-bottom: $spacing-md;
        opacity: 0;
        transform: translateY(20px);
        will-change: transform, opacity;
    }
}

// ===================================
// TOOL CARDS - ENTRÉES ANIMÉES
// ===================================

.tool-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: $spacing-lg;
    margin-top: $spacing-2xl;
    padding: $spacing-lg 0;
    position: relative;
    z-index: 2;

    @media (max-width: $breakpoint-sm) {
        grid-template-columns: 1fr;
    }
}

.tool-card {
    background: white;
    border-radius: 20px;
    padding: $spacing-lg;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
    transition: all $duration-normal $ease-out-expo;
    opacity: 0;
    transform: translateY(60px);
    will-change: transform, opacity;
    position: relative;
    overflow: hidden;

    // Effet de brillance au survol
    &::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 70%);
        transform: rotate(45deg);
        transition: all 0.6s ease;
        opacity: 0;
    }

    &:hover {
        transform: translateY(-12px) scale(1.02);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);

        &::before {
            opacity: 1;
            top: 100%;
            left: 100%;
        }
    }

    &__icon {
        display: flex;
        justify-content: center;
        margin-bottom: $spacing-md;
        animation: icon-float 3s ease-in-out infinite;
    }

    h3 {
        color: $utopia-text;
        margin-bottom: $spacing-sm;
        font-size: $font-size-xl;
    }

    p {
        color: color.adjust($utopia-text, $lightness: 20%);
        font-size: $font-size-base;
        line-height: 1.7;
        margin-bottom: $spacing-md;
    }

    &__link {
        color: $utopia-primary;
        font-weight: $font-weight-semibold;
        display: inline-flex;
        align-items: center;
        gap: $spacing-xs;
        margin-top: $spacing-sm;
        transition: all $duration-fast $ease-in-out-cubic;

        &:hover {
            color: color.adjust($utopia-primary, $lightness: -10%);
            gap: $spacing-sm;
        }
    }
}

@keyframes icon-float {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-8px);
    }
}